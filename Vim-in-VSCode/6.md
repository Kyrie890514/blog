---
outline: deep
---

# 文本对象

在上章介绍了 Vim 中一些常用的操作命令，在本章中我们会了解有关文本对象的相关内容。

## 语法

文本对象(text operator)，指的是一些结构化的内容，例如 `{ ... }`，`(...)`，`<span> ... </span>`，它能够帮助我们更加快速准确地操作文本，其基础语法为：

- `{operator}{a|i}{text-object}`

这里的 a 和 i 可以理解为 around 和 inside，其区别在于该操作是否要带上文本对象附近的空格，或是 `""` `()`等字符。

下面列出了一些常用的文本对象：

- `b` 或 `(` 或 `)`: `( ... )`

- `B` 或 `{` 或 `}`: `{ ... }`

- `'`: `' ... '`

- `` ` ``: `` ` ... ` ``

- `"`: `" ... "`

- `t`: HTML tag

- `[` 或 `]`: `[ ... ]`

- `<` 或 `>`: `< ... >`

- `w`: 单词

- `s`: 句子

- `p`: 段落

## 常用组合

下面是一些常用的组合，以删除操作 `d` 举例，通常也会根 `c` 和 `y` 联合使用。

- `diw`: 删除光标所在的单词

- `daw`: 删除光标所在的单词，包括后面的空格

- `di(`: 删除 `( ... )` 内的内容

- `da(`: 删除 `( ... )` 内的内容，包括 `(` `)`

- `di{`: 删除 `{ ... }` 内的内容

- `da{`: 删除 `{ ... }` 内的内容，包括 `{` `}`

- `di[`: 删除 `[ ... ]` 内的内容

- `da[`: 删除 `[ ... ]` 内的内容，包括 `[` `]`

- `di'`: 删除 `'...'` 内的内容

- `da'`: 删除 `'...'` 内的内容，包括 `'` `'`

- `di"`: 删除 `"..."` 内的内容

- `da"`: 删除 `"..."` 内的内容，包括 `"` `"`

- `` di` ``: 删除 `` ` ... ` `` 内的内容

- `` di` ``: 删除 `` ` ... ` `` 内的内容，包括 `` ` `` `` ` ``

- `dit`: 删除一对 HTML tag 内的内容

- `dat`: 删除一对 HTML tag 内的内容，包括 tag

## dot

当然，`.` 也可以配合文本对象使用，一个常用的场景是查找和替换。如果我们要把一个文件中所有的 `Kyrie` 替换成 `KYRIE`，我们可以先用 `/\CKyrie<Enter>` 进行搜索，接着使用 `gUiw` 或 `ciwKYRIE<Esc>` 将第一个搜索结果修改成 `KYRIE`，接着我们就可以结合 `n` 和 `.` 来依次完成剩余的修改。

## `a` 和 `e`

VSCodeVim 内置了 vim-textobj-arguments 和 vim-textobj-entire 插件，它们提供了 `a` 和 `e` 这两个文本对象，`e` 表示当前文件的所有内容(entire)，`a` 表示函数的参数(arguments)，因此：

- `yie`: 复制当前文件所有内容

- `dae`: 删除当前文件所有内容

- `cia`: 修改函数的参数

- `daa`: 删除函数的参数(包含分隔符，例如 `,`)

- `dia`: 删除函数的参数(不包含分隔符)
