---
outline: deep
---

# 快速移动(2)

在上章中我们知道了一些快速移动的命令，本章会再介绍一些可以快速移动的命令。

## 搜索

使用 `f` 或是 `t` 搜索的局限是只能搜索单个字符并限制在同一行，我们可以使用 `/` 和 `?` 来进行全局的搜索。

- `/{pattern}<Enter>`: 向下搜索 \{pattern}

- `?{pattern}<Enter>`: 向上搜索 \{pattern}

当我们在 Normal mode 下按下 `/` 或 `?` 或，会发现下方状态栏的 NORMAL 标志变成了 `/` 或 `?`，此时我们输入的搜索内容会出现在状态栏中，这里的搜索内容 pattern 是一个正则表达式，输入完成后，我们按 `<Enter>` 键开始搜索，这时状态栏会出现类似 `match 1 of 3` 的结果。

类似于 `f` `t` 命令对应的 `;` `,` 命令，我们可以用 `n` 进行下一次搜索，用 `N` 回到上一次搜索。

> 我们可以在 `setting.json` 中添加下述配置，这样所有符合条件的搜索结果都会高亮显示。
>
> ```json
> "vim.hlsearch": true
> ```

这里的搜索默认是大小写不敏感的，例如 `/Kyrie<Enter>` 可以匹配到 `kyrie` 和 `KYRIE`；如果需要大小写敏感，可以在 pattern 前面加上 `\C`，例如 `/\CKyrie<Enter>` 无法匹配到`kyrie` 和 `KYRIE`。

在输入 `/` 或 `?` 后，如果直接按下 `<Enter>`，会搜索上一次输入的内容；这时也可以通过上下方向键来使用之前的搜索历史。

我们可以用 `*` 来搜索当前光标所在位置的单词，这相当于使用 `/{pattern}<Enter>` 来搜索这个单词；类似的，可以用 `#` 进行向上搜索。

## count

简单来说，我们把 Vim 中一些可以移动光标的命令称为 motion，在 motion 前，我们可以输入数字(count)来重复这些 motion。

- `{count}{motion}`: 重复 {motion} {count} 次

例如：

- `5j`: 将光标向下移动 5 次

- `5l`: 将光标向右移动 5 次

- `2w`: 将光标移动到下下个 word 的开头

- `3fs`: 将光标移动到当前行的后面第三个 s 上

> 我通常会将 `H` `J` `K` `L` 映射成对应的 5 次操作来实现快速移动，在 `setting.json` 中添加下述配置。
>
> ```json
> "vim.normalModeKeyBindingsNonRecursive": [
> 	{
> 		"before": ["H"],
> 		"after": ["5", "h"]
> 	},
> 	{
> 		"before": ["J"],
> 		"after": ["5", "j"]
> 	},
> 	{
> 		"before": ["K"],
> 		"after": ["5", "k"]
> 	},
> 	{
> 		"before": ["L"],
> 		"after": ["5", "l"]
> 	}
> ]
> ```

## 滚动

下面是几个以页面为单位滚动的命令：

- `<Ctrl-b>`: 向下滚动一页

- `<Ctrl-f>`: 向上滚动一页

- `<Ctrl-d>`: 向下滚动半页

- `<Ctrl-u>`: 向上滚动半页

- `<Ctrl-e>`: 向下滚动一行, 光标不移动

- `<Ctrl-y>`: 向上滚动一行, 光标不移动

## 光标位置

下面是三个移动光标位置的命令：

- `zz`: 将光标所在行移动到屏幕中间

- `zt`: 将光标所在行移动到屏幕顶部(top)

- `zb`: 将光标所在行移动到屏幕底部(bottom)
